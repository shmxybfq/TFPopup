# TFPopup

[![License MIT](https://img.shields.io/badge/License-MIT-orange)]()&nbsp;
[![Platform iOS](https://img.shields.io/badge/platform-iOS-grayblue)]()&nbsp;
<br/>
<br/>

**ğŸš€ğŸš€ğŸš€ä¸è€¦åˆå¼¹æ¡†ä»£ç ,ä½†å¯ä»¥ä¸ºå®ƒæ·»åŠ å¼¹å‡ºæ–¹å¼;
<br>ğŸš€ğŸš€ğŸš€TFPopupä¸æ˜¯å¼¹æ¡†,å®ƒåªæ˜¯ä¸€ç§å¼¹å‡ºæ–¹å¼;**

<br>ä½¿ç”¨TFPopupåšå¼¹æ¡†ä¼šè®©ä½ çš„å¼¹æ¡†å˜çš„å¼‚å¸¸ç®€å•ã€‚
<br>1.å·²ç»æœ‰ä¸€ä¸ªviewã€‚
<br>2.ç”¨å–œæ¬¢çš„æ–¹å¼å°†å®ƒå¼¹å‡ºæ¥ã€‚<br>


## å¼¹å‡ºæ•ˆæœå›¾ç¤ºä¾‹
**è‡ªå®šä¹‰åŠ¨ç”»æ•ˆæœ**
___
<div>
<img src="https://github.com/shmxybfq/TFPopup/blob/master/Example/cus-6.gif" width="30%" height="30%">
<img src="https://github.com/shmxybfq/TFPopup/blob/master/Example/cus-2.gif" width="30%" height="30%">
<img src="https://github.com/shmxybfq/TFPopup/blob/master/Example/cus-3.gif" width="30%" height="30%">
</div>
<div>
<img src="https://github.com/shmxybfq/TFPopup/blob/master/Example/cus-4.gif" width="30%" height="30%">
<img src="https://github.com/shmxybfq/TFPopup/blob/master/Example/cus-5.gif" width="30%" height="30%">
<img src="https://github.com/shmxybfq/TFPopup/blob/master/Example/cus-1.gif" width="30%" height="30%">
</div>
<br>

**é»˜è®¤åŠ¨ç”»æ•ˆæœ**

___

<div>
<img src="https://github.com/shmxybfq/TFPopup/blob/master/Example/exa1.gif" width="30%" height="30%">
<img src="https://github.com/shmxybfq/TFPopup/blob/master/Example/exa2.gif" width="30%" height="30%">
<img src="https://github.com/shmxybfq/TFPopup/blob/master/Example/exa3.gif" width="30%" height="30%">
</div>
<div>
<img src="https://github.com/shmxybfq/TFPopup/blob/master/Example/exa4.gif" width="30%" height="30%">
<img src="https://github.com/shmxybfq/TFPopup/blob/master/Example/exa5.gif" width="30%" height="30%">
<img src="https://github.com/shmxybfq/TFPopup/blob/master/Example/exa6.gif" width="30%" height="30%">
</div>
<div>
<img src="https://github.com/shmxybfq/TFPopup/blob/master/Example/exa7.gif" width="30%" height="30%">
<img src="https://github.com/shmxybfq/TFPopup/blob/master/Example/exa8.gif" width="30%" height="30%">
<img src="https://github.com/shmxybfq/TFPopup/blob/master/Example/exa9.gif" width="30%" height="30%">
</div>
<br>

**åŸºäºé»˜è®¤åŠ¨ç”»æ•ˆæœçš„å‚æ•°è‡ªç”±ç»„åˆ**

___

<div>
<img src="https://github.com/shmxybfq/TFPopup/blob/master/Example/nor-bubble.gif" width="30%" height="30%">
<img src="https://github.com/shmxybfq/TFPopup/blob/master/Example/nor-mask.gif" width="30%" height="30%">
<img src="https://github.com/shmxybfq/TFPopup/blob/master/Example/nor-slide.gif" width="30%" height="30%">
</div>

## ç‰¹ç‚¹
- å’Œviewä»£ç ä¸è€¦åˆ<br>
&nbsp;&nbsp;&nbsp;&nbsp;ä½ å¯ä»¥å°†ä¸€ä¸ªæ–°çš„/å·²å­˜åœ¨çš„viewè°ƒç”¨å¼¹å‡ºæ–¹æ³•å°†ä»–å¼¹å‡ºæ¥
- é»˜è®¤æ”¯æŒå¤šç§å¼¹å‡ºæ–¹å¼<br>
&nbsp;&nbsp;&nbsp;&nbsp;æ— åŠ¨ç”»è¦†ç›–/ç¼©æ”¾å¼¹å‡º/æ»‘åŠ¨å¼¹å‡º/åŸºäºæŸç‚¹çš„æ³¡æ³¡æ–¹å¼å¼¹å‡º/åŸºäºframeå˜åŒ–çš„å¼¹å‡º/åŸºäºäºé®ç½©çš„é®ç½©å¼¹å‡º/æŠ˜å å¼¹å‡º
- åœ¨å¼¹å‡ºæ–¹å¼åŸºç¡€ä¸Šå¯ä»¥é€šè¿‡**è°ƒèŠ‚å‚æ•°**æ¥è°ƒæ•´**å¼¹å‡ºæ•ˆæœ**<br>
&nbsp;&nbsp;&nbsp;&nbsp;**æ‹–åŠ¨ï¼š**å¼€å¯ã€å…³é—­æ‹–åŠ¨/æ˜¯å¦å¼€å¯æ‹–åŠ¨å¼¹æ€§æ•ˆæœ/è®¾ç½®æ‹–åŠ¨æ¾æ‰‹åè‡ªåŠ¨æ¶ˆå¤±è·ç¦»<br>
&nbsp;&nbsp;&nbsp;&nbsp;**æ‹–åŠ¨æ–¹å¼ï¼š** è‡ªç”±æ¨¡å¼ä¸‹å¼¹æ¡†å¯å…¨æ–¹å‘æ‹–åŠ¨,æ¾æ‰‹åè§¦å‘æ¶ˆå¤±/ç»„åˆæ¨¡å¼ä¸‹å¯è‡ªç”±ç»„åˆä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘è¿›è¡Œæ–¹å‘è¯†åˆ«<br>
&nbsp;&nbsp;&nbsp;&nbsp;**æ—¶é—´è°ƒæ•´ï¼š** åŠ¨ç”»æ—¶é—´/åŠ¨ç”»å»¶è¿Ÿå¼€å§‹æ—¶é—´/åŠ¨ç”»å»¶è¿Ÿæ¶ˆå¤±æ—¶é—´/å¼¹æ¡†è‡ªåŠ¨æ¶ˆå¤±æ—¶é—´<br>
&nbsp;&nbsp;&nbsp;&nbsp;**æ—¶é—´æ›²çº¿ï¼š** é€šè¿‡UIViewAnimationOptionsè®¾ç½®åŠ¨ç”»æ—¶é—´æ›²çº¿<br>
&nbsp;&nbsp;&nbsp;&nbsp;**å¼¹å‡ºèƒŒæ™¯ï¼š** æ˜¯å¦ä½¿ç”¨èƒŒæ™¯/è°ƒæ•´èƒŒæ™¯é¢œè‰²/èƒŒæ™¯è‰²é€æ˜/èƒŒæ™¯ç‚¹å‡»äº‹ä»¶åŠé»˜è®¤è‡ªåŠ¨ç‚¹å‡»æ¶ˆå¤±/èƒŒæ™¯æ˜¾ç¤ºã€æ¶ˆå¤±é€æ˜åº¦åŠ¨ç”»<br>
&nbsp;&nbsp;&nbsp;&nbsp;**æ¸éšå’Œä½ç½®ï¼š** å¼¹å‡ºæ¸éš/æ¶ˆå¤±æ¸éš/å¼¹å‡ºä½ç½®å˜åŒ–/æ¶ˆå¤±ä½ç½®å˜åŒ–<br>
&nbsp;&nbsp;&nbsp;&nbsp;**å°ºå¯¸å’Œä½ç½®ï¼š** å¼¹å‡ºåŒºåŸŸè®¡ç®—å°ºå¯¸è®¾ç½®/å¼¹æ¡†å°ºå¯¸/ä½ç½®åç§»é‡/åˆå§‹ä½ç½®/ç›®æ ‡ä½ç½®/æ˜¯å¦å§‹ç»ˆä¿æŒåŸä½ç½®<br>
&nbsp;&nbsp;&nbsp;&nbsp;**å±æ€§åŠ¨ç”»ï¼š** å¯åˆ†åˆ«è®¾ç½®æ˜¾ç¤ºã€æ¶ˆå¤±æ—¶çš„å±æ€§åŠ¨ç”»,åªéœ€è¦è®¾ç½®å±æ€§:å±æ€§å€¼ã€åˆå§‹å€¼ã€ç»“æŸå€¼å³å¯ä½¿ç”¨ä¸°å¯Œçš„å±æ€§åŠ¨ç”»æ•ˆæœ<br>
&nbsp;&nbsp;&nbsp;&nbsp;**æ³¡æ³¡ï¼š** æ³¡æ³¡åŸºå‡†ç‚¹/æ³¡æ³¡å…«ä¸ªå¼¹å‡ºæ–¹å‘<br>
&nbsp;&nbsp;&nbsp;&nbsp;**maskï¼š** å¯åˆ†åˆ«è®¾ç½®æ˜¾ç¤ºã€æ¶ˆå¤±æ—¶çš„mask,åªéœ€è¦è®¾ç½®å±æ€§:maskåˆå§‹pathã€maskç»“æŸpathå³å¯<br>
- ä¿ç•™å¼¹å‡ºå…¨è¿‡ç¨‹æ¥å£ï¼Œæ”¯æŒå®Œå…¨è‡ªå®šä¹‰å¼¹å‡ºæ–¹å¼ã€åŠ¨ç”»ã€å’ŒèƒŒæ™¯<br>
&nbsp;&nbsp;&nbsp;&nbsp;TFPopupDataSourceä»£ç†åŒ…å«æ•´ä¸ªå¼¹å‡ºè¿‡ç¨‹äº‹ä»¶ï¼ŒTFPopupä½¿viewæœ¬èº«å®ç°æ­¤ä»£ç†æ¥å°è£…ä»¥ä¸ŠåŠ¨ç”»æ•ˆæœçš„ç»„åˆå’Œå¼¹å‡ºï¼Œä½ å¯ä»¥åœ¨å¼¹æ¡†ç±»ä¸­
&nbsp;&nbsp;&nbsp;&nbsp;é‡å†™ä¸€ä¸ªæˆ–å¤šä¸ªæ–¹æ³•æ¥æˆªæ–­å’Œä¿®æ”¹å¼¹å‡ºè¿‡ç¨‹ä»¥å®ç°å®Œå…¨è‡ªå®šä¹‰åŠ¨ç”»æ•ˆæœ
&nbsp;&nbsp;&nbsp;&nbsp;TFPopupBackgroundDelegateåŒTFPopupDataSourceä¸€æ ·ï¼Œå¯é€šè¿‡å®ç°ä¸€ä¸ªæˆ–å¤šä¸ªæ–¹æ³•æ¥æˆªæ–­å’Œä¿®æ”¹å¼¹å‡ºè¿‡ç¨‹ä»¥å®ç°å®Œå…¨è‡ªå®šä¹‰èƒŒæ™¯å’ŒèƒŒæ™¯åŠ¨ç”»





4.è‡ªå®šä¹‰èƒŒæ™¯å±æ€§,å®Œå…¨è‡ªå®šä¹‰èƒŒæ™¯<br>
5.å®Œå…¨è‡ªå®šä¹‰åŠ¨ç”»
## é»˜è®¤æ”¯æŒå‡ ç§å¼¹å‡ºæ–¹å¼ï¼š
1.ç›´æ¥å¼¹å‡º<br>
2.ç¼©æ”¾å¼¹å‡º<br>
3.æ»‘åŠ¨å¼¹å‡º<br>
4.åŸºäºæŸç‚¹çš„æ³¡æ³¡å¼¹å‡º<br>
5.åŸºäºframeå˜åŒ–çš„å¼¹å‡º<br>
6.åŸºäºé®ç½©çš„é®ç½©å¼¹å‡º<br>
## åœ¨ä»¥ä¸Šå‡ ç§é»˜è®¤å¼¹å‡ºæ–¹å¼ä¸­å¯é€šè¿‡ç®€å•ä¿®æ”¹å‚æ•°äº§ç”Ÿä¸åŒçš„åŠ¨ç”»
1.æ‰€æœ‰å¼¹å‡ºæ–¹å¼æ”¯æŒ:æ˜¯å¦ä½¿ç”¨èƒŒæ™¯,èƒŒæ™¯ç‚¹å‡»ç­‰äº‹ä»¶è®¾ç½®å’Œç›‘å¬,èƒŒæ™¯é€æ˜åº¦,èƒŒæ™¯æ¸éšåŠ¨ç”»,å¼¹æ¡†æ¸éšåŠ¨ç”»,å¼¹æ¡†åç§»,å¼¹çª—å¤§å°ç­‰å‚æ•°è‡ªç”±ç»„åˆ.<br>
2.æ»‘åŠ¨å¼¹å‡ºæ”¯æŒä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ï¼Œå¦å¤–å¯ä»¥é€šè¿‡å‚æ•°è®¾ç½®å¼¹æ¡†çš„å¤§å°å’Œåç§».<br>
3.æ³¡æ³¡çš„å¼¹å‡ºæ–¹å¼æ”¯æŒä¸Šï¼Œä¸Šå³ã€‚ã€‚å…«ä¸ªæ–¹å‘å¦å¤–å¯ä»¥é€šè¿‡å‚æ•°è®¾ç½®å¼¹æ¡†çš„å¤§å°å’Œåç§».<br>
4.å¯ä»¥è‡ªç”±è®¾ç½®å¼¹æ¡†çš„åˆå§‹frameï¼Œå’Œç»“æŸframeåšå¼¹å‡ºå’ŒåŠ¨ç”»æ–¹å¼.<br>
5.é€šè¿‡è®¾ç½®é®ç½©çš„pathåŠ¨ç”»å¯ä»¥è®¾ç½®æ›´ä¸°å¯Œçš„åŠ¨ç”»æ•ˆæœ.<br>
6.æ”¯æŒè‡ªå®šä¹‰å±æ€§åŠ¨ç”»,ç¼©æ”¾å¼¹å‡ºé»˜è®¤åŠ¨ç”»å±æ€§ä¸ºtransform.scale,é€šè¿‡ä¿®æ”¹å±æ€§å’Œå±æ€§å€¼å¯ä»¥åšä¸åŒçš„åŠ¨ç”»,å¯é€‰çš„å±æ€§å€¼å¯å‚è€ƒä»¥ä¸‹.
```
CATransform3D{
    //rotationæ—‹è½¬
    transform.rotation.x
    transform.rotation.y
    transform.rotation.z
    //scaleç¼©æ”¾
    transform.scale
    transform.scale.x
    transform.scale.y
    transform.scale.z
    //translationå¹³ç§»
    transform.translation.x
    transform.translation.y
    transform.translation.z
}
CGPoint{
    position
    position.x
    position.y
}
CGRect{
    bounds
    bounds.size
    bounds.size.width
    bounds.size.height
    bounds.origin
    bounds.origin.x
    bounds.origin.y
}
property{
    opacity
    backgroundColor
    cornerRadius
    borderWidth
    contents
    Shadow{
        shadowColor
        shadowOffset
        shadowOpacity
        shadowRadius
    }
}
```
## è‡ªå®šä¹‰åŠ¨ç”»å’Œå¼¹å‡ºæ–¹å¼
å¦‚æœä»¥ä¸Šé»˜è®¤åŠ¨ç”»éƒ½ä¸èƒ½æ»¡è¶³éœ€æ±‚çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰åŠ¨ç”»çš„æ–¹å¼å®ç°æ›´å¤šä¸ç¡®å®šçš„åŠ¨ç”»æ–¹å¼ï¼Œéœ€è¦å®ç°ä»¥ä¸‹ä»£ç†æ–¹æ³•ï¼š
```
// è‡ªå®šä¹‰åŠ¨ç”»ä»£ç†,å¼¹å‡ºæ¡†æ¨¡å¼å®ç°äº†æ­¤ä»£ç†ï¼Œå¹¶ä¸”ä»£ç†å¯¹è±¡ä¸ºæœ¬èº«ã€‚é€šè¿‡ä»¥ä¸‹ä»£ç†çš„è®¾ç½®ï¼Œä¸ºå¼¹æ¡†è®¾ç½®äº†åŠ¨ç”»ã€‚
@protocol TFPopupDelegate<NSObject>
@optional;

/* è‡ªå®šä¹‰èƒŒæ™¯å¼¹æ¡†èƒŒæ™¯è¦†ç›–å±‚viewï¼Œè®¾ç½®åŠ¨ç”»çš„æƒ…å†µä¸‹è¦†ç›–å±‚çš„alphaçš„å€¼ä¼š0-1è¿‡æ¸¡
 * manager ä¸­åŒ…å«å¼¹æ¡†è¿‡ç¨‹å¤šæ•°åŸºæœ¬ä¿¡æ¯ï¼Œå¯ä»¥ä»æ­¤å‚æ•°ä¸­è·å–å¯è®¾ç½®å‚æ•°ï¼Œå…·ä½“å‚ç…§TFPopupManagerç±»
 * popup å³å¼¹æ¡†çš„view */
-(UIView *)tf_popupCustemBackgroundView:(TFPopupManager *)manager
                                  popup:(UIView *)popup;

/* å‡†å¤‡åŠ¨ç”»å‰è°ƒç”¨æ­¤å‡½æ•°ï¼Œæ‰€ä»¥å‚æ•°åŠè®¾ç½®éƒ½å·²ç»è®¾ç½®å®Œæˆï¼Œåœ¨æ­¤å‡½æ•°å›è°ƒä¸­å¯éšæ—¶ä¿®æ”¹å¯å˜å‚æ•°
 * è¿”å›å€¼æ˜¯å¦æ‰“æ–­é»˜è®¤åŠ¨ç”»ï¼Œåˆ‡æ–­é»˜è®¤åŠ¨ç”»æ„å‘³ç€æ‰€æœ‰å¼€å§‹åŠ¨ç”»å°†è‡ªå·±å®ç°
 * manager & popup åŒä¸Š */
-(BOOL)tf_popupWillShow:(TFPopupManager *)manager popup:(UIView *)popup;

/* ä½¿ç”¨æ–¹å¼å’Œä½œç”¨tf_popupWillShowï¼Œä¸åŒçš„æ˜¯å¦‚æœæ‰“æ–­é»˜è®¤åŠ¨ç”»ï¼Œè‡ªå·±éœ€è¦é¢å¤–ç®¡ç†å¼¹å‡ºæ¡†å’ŒèƒŒæ™¯è§†å›¾ç­‰*/
-(BOOL)tf_popupWillHide:(TFPopupManager *)manager popup:(UIView *)popup;

/* ç”¨æˆ·ç‚¹å‡»èƒŒæ™¯è¦†ç›–å±‚æ—¶è°ƒç”¨æ­¤å‡½æ•°ï¼Œé»˜è®¤ç‚¹å‡»å…³é—­å¼¹æ¡†ã€‚
 * è¿”å›å€¼æ˜¯å¦æ‰“æ–­é»˜è®¤äº‹ä»¶ï¼Œå¦‚æœæ‰“æ–­é»˜è®¤äº‹ä»¶ï¼Œéœ€è¦è‡ªå·±æ§åˆ¶å¼¹æ¡†çš„æ¶ˆå¤±
 * manager & popup åŒä¸Š */
-(BOOL)tf_popupBackgroundTouch:(TFPopupManager *)manager popup:(UIView *)popup;
```

## ä½¿ç”¨

**å›ºå®šä½ç½®-æ— åŠ¨ç”»**

```
//æ•ˆæœå‚è€ƒï¼šã€é»˜è®¤åŠ¨ç”»æ•ˆæœ1-1ã€‘
UIView *view = nil;
[view tf_showNormal:self.view animated:NO];
//[view tf_showNormal:self.view offset:CGPointMake(0, -100) animated:NO];//offsetå¼¹æ¡†ç›¸å¯¹äºåŸæ¥ä½ç½®çš„åç§»
//TFPopupParam *param = [TFPopupParam new];//æ›´å¤šå‚æ•°è®¾ç½®
//[view tf_showNormal:self.view popupParam:param];
```

**å›ºå®šä½ç½®-æ¸éšåŠ¨ç”»**

```
//æ•ˆæœå‚è€ƒï¼šã€é»˜è®¤åŠ¨ç”»æ•ˆæœ1-1,æ­¤åŸºç¡€ä¸ŠèƒŒæ™¯å’Œå¼¹æ¡†å…·æœ‰æ¸éšæ•ˆæœã€‘
UIView *view = nil;
[view tf_showNormal:self.view animated:YES];
//[view tf_showNormal:self.view offset:CGPointMake(0, -100) animated:YES];//offsetå¼¹æ¡†ç›¸å¯¹äºåŸæ¥ä½ç½®çš„åç§»
//TFPopupParam *param = [TFPopupParam new];//æ›´å¤šå‚æ•°è®¾ç½®
//[view tf_showNormal:self.view popupParam:param];
```

**å›ºå®šä½ç½®-ç¼©æ”¾åŠ¨ç”»**

```
//æ•ˆæœå‚è€ƒï¼šã€é»˜è®¤åŠ¨ç”»æ•ˆæœ2-1ã€‘
UIView *view = nil;
TFPopupParam *param = [TFPopupParam new];
[view tf_showScale:self.view offset:CGPointMake(0, 50) popupParam:param];
//[view tf_showScale:self.view offset:CGPointMake(0, 50)];
//[view tf_showScale:self.view];
```

**æ»‘åŠ¨å¼¹å‡º**

```
//æ•ˆæœå‚è€ƒï¼šã€é»˜è®¤åŠ¨ç”»æ•ˆæœ1-2,1-3,3-2ã€‘
UIView *view = nil;
TFPopupParam *param = [TFPopupParam new];
param.popupSize = CGSizeMake([UIScreen mainScreen].bounds.size.width, 300);//è®¾ç½®å¼¹æ¡†çš„å°ºå¯¸
param.offset = CGPointZero;//åœ¨è®¡ç®—å¥½çš„ä½ç½®ä¸Šåç§»
[view tf_showSlide:self.view direction:PopupDirectionBottom popupParam:param];
//[view tf_showSlide:self.view direction:PopupDirectionLeft];
```

**æ³¡æ³¡å¼¹å‡º**

```
//æ•ˆæœå‚è€ƒï¼šã€é»˜è®¤åŠ¨ç”»æ•ˆæœ3-1ã€‘
UIView *view = nil;
TFPopupParam *param = [TFPopupParam new];
param.popupSize = CGSizeMake(200, 300);//è®¾ç½®å¼¹æ¡†çš„å°ºå¯¸
param.offset = CGPointMake(-30, 50);//å·¦ç§»30å³ç§»50
[view tf_showBubble:self.view basePoint:CGPointMake(100, 100) bubbleDirection:PopupDirectionBottomLeft popupParam:param];
```

**å½¢å˜&ä½ç§»ã€frameã€‘å¼¹å‡º**

```
//æ•ˆæœå‚è€ƒï¼šã€é»˜è®¤åŠ¨ç”»æ•ˆæœ1-2,1-3,2-2,2-3,3-2ã€‘
UIView *view = nil;
TFPopupParam *param = [TFPopupParam new];
param.backgroundColorClear = YES;//è®¾ç½®èƒŒæ™¯è‰²é€æ˜
CGRect from = CGRectMake(-200, 0, 200, [UIScreen mainScreen].bounds.size.height);
CGRect to = CGRectMake(0, 0, 200, [UIScreen mainScreen].bounds.size.height);
[view tf_showFrame:self.view from:from to:to popupParam:param];
```

**é®ç½©å¼¹å‡º**

```
//æ•ˆæœå‚è€ƒï¼šã€åŸºäºé»˜è®¤åŠ¨ç”»æ•ˆæœçš„å‚æ•°è‡ªç”±ç»„åˆ1-2ã€‘ã€è‡ªå®šä¹‰åŠ¨ç”»æ•ˆæœ2-1ã€‘
//å°äº”è§’å½¢åœ¨å·¦
UIBezierPath *p0 = [UIBezierPath bezierPath];
[p0 moveToPoint:CGPointMake(-200, 0)];
[p0 addLineToPoint:CGPointMake(-100, 0)];
[p0 addLineToPoint:CGPointMake(0, 170 * 0.5)];
[p0 addLineToPoint:CGPointMake(-100, 170)];
[p0 addLineToPoint:CGPointMake(-200, 170)];
[p0 closePath];
//å°äº”è§’å½¢ä»å·¦åˆ°å³
UIBezierPath *p1 = [UIBezierPath bezierPath];
[p1 moveToPoint:CGPointMake(-200, 0)];
[p1 addLineToPoint:CGPointMake(314, 0)];
[p1 addLineToPoint:CGPointMake(314 + 100, 170 * 0.5)];
[p1 addLineToPoint:CGPointMake(314, 170)];
[p1 addLineToPoint:CGPointMake(-200, 170)];
[p1 closePath];

UIView *view = nil;
TFPopupParam *param = [TFPopupParam new];
param.maskShowFromPath = p0;
param.maskShowToPath = p1;
[view tf_showMask:self.view popupParam:param];
```

**é»˜è®¤åŠ¨ç”»åŸºç¡€ä¸Šä¿®æ”¹å±æ€§åŠ¨ç”»å¼¹å‡º**

```
//æ•ˆæœå‚è€ƒï¼šã€è‡ªå®šä¹‰åŠ¨ç”»æ•ˆæœ2-3ã€‘

TFPopupParam *param = [TFPopupParam new];
param.showKeyPath = @"transform.rotation.y";//å¼¹å‡ºæ—¶çš„å±æ€§åŠ¨ç”»
param.showFromValue = @(-M_PI * 2);//èµ·å§‹åŠ¨ç”»å€¼
param.showToValue = @(0);//ç»“æŸåŠ¨ç”»å€¼
param.hideKeyPath = @"transform.rotation.x";//æ¶ˆå¤±æ—¶çš„å±æ€§åŠ¨ç”»
param.hideFromValue = @(0);
param.hideToValue = @(M_PI * 2);
param.autoDissmissDuration = 1;//å¼¹å‡ºå1såè‡ªåŠ¨æ¶ˆå¤±
param.duration = 0.5;//åŠ¨ç”»æ—¶é—´0.5

UIView *view = nil;
[view tf_showCustem:self.view popupParam:param delegate:nil];
```

**è‡ªå®šä¹‰åŠ¨ç”»**

```
//ã€è‡ªå®šä¹‰åŠ¨ç”»æ•ˆæœ1-3ä»£ç ã€‘
UIView *view = nil;
view.popupDelegate = self;
[view tf_showNormal:self.view popupParam:param];
//ä»£ç†æ–¹æ³•
//ä»£ç†æ–¹æ³•
- (BOOL)tf_popupViewWillShow:(UIView *)popup{
    if (@available(iOS 9.0, *)) {
        CASpringAnimation *spring = [CASpringAnimation animationWithKeyPath:@"position.y"];
        spring.damping = 15;
        spring.stiffness = 100;
        spring.mass = 1.5;
        spring.initialVelocity = 0;
        spring.duration = spring.settlingDuration;
        spring.fromValue = @(-200);
        spring.toValue = @(self.view.center.y);
        spring.fillMode = kCAFillModeForwards;
        [popup.layer addAnimation:spring forKey:nil];
        __weak typeof(popup) weakPopup = popup;
        [spring observerAnimationDidStop:^(CAAnimation *anima, BOOL finished) {
            if (finished) {
                weakPopup.center = CGPointMake(kSize.width * 0.5, kSize.height * 0.5);
            }
        }];
    }
    return NO;
}

- (BOOL)tf_popupViewWillHide:(UIView *)popup{
    if (@available(iOS 9.0, *)) {
        popup.center = CGPointMake(kSize.width * 0.5, -500);
        CASpringAnimation *spring = [CASpringAnimation animationWithKeyPath:@"position.y"];
        spring.damping = 15;
        spring.stiffness = 100;
        spring.mass = 1.5;
        spring.initialVelocity = 0;
        spring.duration = spring.settlingDuration;
        spring.fromValue = @(self.view.center.y);
        spring.toValue = @(-200);
        spring.fillMode = kCAFillModeForwards;
        [popup.layer addAnimation:spring forKey:nil];
        __weak typeof(popup) weakPopup = popup;
        [spring observerAnimationDidStop:^(CAAnimation *anima, BOOL finished) {
            if (finished) {
                weakPopup.center = CGPointMake(kSize.width * 0.5, -200);
            }
        }];
    }
    return NO;
}

```

**è‡ªå®šä¹‰èƒŒæ™¯**
éœ€è¦è‡ªå·±å®ç°ä»£ç†TFPopupBackgroundDelegate,å…·ä½“è¯·çœ‹demo

```
//ã€è‡ªå®šä¹‰åŠ¨ç”»æ•ˆæœ2-3ä»£ç ã€‘
- (NSInteger)tf_popupBackgroundViewCount:(UIView *)popup;//é»˜è®¤1
//é»˜è®¤UIButtonèƒŒæ™¯è‰²ä¸ºblack-0.3é€æ˜åº¦
- (UIView *)tf_popupView:(UIView *)popup backgroundViewAtIndex:(NSInteger)index;
- (CGRect)tf_popupView:(UIView *)popup backgroundViewFrameAtIndex:(NSInteger)index;//é»˜è®¤å¼¹æ¡†åŒºåŸŸå¤§å°
```

## ç›‘å¬å¼¹å‡ºè¿‡ç¨‹:block&delegate
ç›‘å¬å¼¹å‡ºè¿‡ç¨‹æœ‰ä¸¤ç§æ–¹å¼,ä¸€ç§æ˜¯ä»£ç†æ–¹å¼å¦‚ä¸Šæ‰€è¿°ï¼Œå¦å¤–ä¸€ç§æ˜¯blockå¦‚ä¸‹ä»£ç 
```
//å¼¹å‡ºå‰è°ƒç”¨æ­¤å‡½æ•°ä»¥ç›‘å¬å¼¹å‡ºè¿‡ç¨‹
-(void)tf_observerDelegateProcess:(TFDelegateProcessBlock)delegateProcessBlock;

//å¼¹å‡ºè¿‡ç¨‹é˜¶æ®µæšä¸¾å¦‚ä¸‹ï¼š
typedef NS_ENUM(NSInteger,DelegateProcess) {
    DelegateProcessWillGetConfiguration = 0,//å°†è¦è·å–å¼¹å‡ºé…ç½®
    DelegateProcessDidGetConfiguration,//å·²ç»è·å–å¼¹å‡ºé…ç½®
    DelegateProcessWillShow,//å°†è¦å¼¹å‡º
    DelegateProcessDidShow,//å·²ç»è°ƒç”¨å®Œå¼¹å‡º,æ­£åœ¨æ‰§è¡ŒåŠ¨ç”»
    DelegateProcessShowAnimationDidFinish,//å¼¹å‡ºåŠ¨ç”»æ‰§è¡Œå®Œæˆ
    DelegateProcessWillHide,//å°†è¦æ¶ˆå¤±
    DelegateProcessDidHide,//å·²ç»è°ƒç”¨å®Œæ¶ˆå¤±,æ­£åœ¨æ‰§è¡ŒåŠ¨ç”»
    DelegateProcessHideAnimationDidFinish,//æ¶ˆå¤±åŠ¨ç”»æ‰§è¡Œå®Œæˆ
    DelegateProcessBackgroundDidTouch,//é»˜è®¤èƒŒæ™¯ç‚¹å‡»
};

```

## Tips
```
1.å½“éœ€è¦è‡ªå®šä¹‰åŠ¨ç”»è‡ªå·±é‡å†™ä»£ç†æ–¹æ³•æ—¶,æœ‰ä¸¤ç§å®ç°æ–¹å¼
(1)åˆ›å»ºä¸€ä¸ªæ–°ç±»ç»§æ‰¿å¼¹æ¡†è§†å›¾ï¼Œå¹¶é‡å†™éœ€è¦é‡æ–°çš„æŸä¸ªæ–¹æ³•
(2)ç›´æ¥å°†å¼¹æ¡†çš„æŸä¸ªä»£ç†(æ¯”å¦‚è¯´è‡ªå®šä¹‰èƒŒæ™¯è§†å›¾ä»£ç†)æŒ‡å‘å…¶ä»–ç±»,ç„¶åé‡å†™ä»£ç†çš„æ‰€æœ‰æ–¹æ³•ã€‚
å› ä¸ºè®¾ç½®å¼¹æ¡†çš„æ‰€æœ‰ä»£ç†æ–¹æ³•éƒ½é€šè¿‡categoryåœ¨æœ¬ç±»å®ç°ï¼Œä½¿ç”¨ï¼ˆ1ï¼‰æ–¹å¼å¯ä»¥ç›´æ¥é‡æ–°æŸä¸ªæ–¹æ³•å®ç°ä¿®æ”¹ï¼Œä½¿ç”¨ï¼ˆ2ï¼‰æ–¹å¼éœ€è¦å®ç°å¯¹åº”ä»£ç†çš„æ‰€æœ‰æ–¹æ³•ã€‚
2.å¦‚æœè°ƒç”¨å¼¹æ¡†ä»£ç å¾ˆå¤šï¼Œå¯ä»¥è¿›è¡ŒäºŒæ¬¡å°è£…
```


## æ³¨æ„
```
//é»˜è®¤å€¼
//param.popupSize = å¼¹æ¡†æœ¬èº«çš„å°ºå¯¸
//param.popupAreaRect = å¼¹æ¡†å®¹å™¨è§†å›¾çš„bounds
//param.offset = CGPointZero;
//param.offset = CGPointZero;
//param.duration = 0.3;
//TFPopupDelegateä»£ç†é»˜è®¤å€¼ä¸ºå¼¹æ¡†æœ¬èº«
```

## ä½¿ç”¨
```
pod 'TFPopup'
```

## å¦‚æœ
ä½¿ç”¨è¿‡ç¨‹ä¸­æœ‰bugï¼Œè¯·éšæ—¶issuesæˆ‘æˆ–è€…è”ç³»æˆ‘ï¼›
ç°æœ‰åŠŸèƒ½æ»¡è¶³ä¸äº†ä½ çš„éœ€æ±‚ï¼Œè¯·éšæ—¶issuesæˆ‘æˆ–è€…è”ç³»æˆ‘ï¼›
æœ‰æ›´å¥½çš„å»ºè®®æˆ–è€…ä¼˜åŒ–ï¼Œè¯·éšæ—¶issuesæˆ‘æˆ–è€…è”ç³»æˆ‘ï¼›
qq:927141965



        
